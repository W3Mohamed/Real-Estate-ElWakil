{% extends 'agence/base.html.twig' %}

{% block title %}Interface agence{% endblock %}

{% block body %}

    <!-- Hero Section -->
    <div class="mb-10 bg-white p-6 rounded-lg shadow">
        <h1 class="text-3xl font-bold text-gray-800 mb-2">Espace Professionnel <span class="text-blue-600">El Wakil Immobilier</span></h1>
        <p class="text-lg text-gray-600">
            Acc√®s exclusif √† notre portefeuille de biens premium et √† votre r√©seau de clients qualifi√©s.
        </p>
        <div class="mt-4 flex flex-wrap gap-2 items-center">
            <!-- Statut abonnement -->
            <span class="{{ status_class }} text-xs font-medium px-2.5 py-0.5 rounded">
                {{ status_text }}
            </span>
            
            <!-- Jours restants -->
            {% if days_remaining > 0 %}
                <span class="{{ days_remaining <= 5 ? 'bg-red-100 text-red-800' : 'bg-green-100 text-green-800' }} text-xs font-medium px-2.5 py-0.5 rounded">
                    {{ days_remaining }} jours restants
                </span>
            {% else %}
                <span class="bg-gray-100 text-gray-800 text-xs font-medium px-2.5 py-0.5 rounded">
                    Abonnement expir√©
                </span>
            {% endif %}
            
            <!-- Bouton de renouvellement -->
            <a href="https://m.me/elwakilimmobilier" 
            target="_blank"
            class="ml-auto bg-blue-600 hover:bg-blue-700 text-white text-xs font-medium px-3 py-1.5 rounded transition-colors">
                Renouveler mon abonnement
            </a>
        </div>
        
        <!-- Message d'alerte si expiration proche -->
        {% if days_remaining > 0 and days_remaining <= 5 %}
            <div class="mt-2 text-sm text-red-600">
                ‚ö† Votre abonnement expire dans {{ days_remaining }} jours. Renouvelez-le pour continuer √† profiter de nos services.
            </div>
        {% endif %}
    </div>
    
    <!-- Stats Cards -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-10">
        <!-- Biens disponibles -->
        <div class="bg-white rounded-lg shadow p-6 border-l-4 border-blue-500">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-gray-500">Biens disponibles</p>
                    <h3 class="text-2xl font-bold">{{nbBiens}}</h3>
                </div>
                <div class="p-3 rounded-full bg-blue-100 text-blue-600">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/>
                    </svg>
                </div>
            </div>
            <a href="{{path('liste')}}" class="mt-4 inline-flex items-center text-blue-600 hover:text-blue-800">
                Voir tous les biens
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                </svg>
            </a>
        </div>

        <!-- Clients actifs -->
        <div class="bg-white rounded-lg shadow p-6 border-l-4 border-green-500">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-gray-500">Clients actifs</p>
                    <h3 class="text-2xl font-bold">{{nbClients}}</h3>
                </div>
                <div class="p-3 rounded-full bg-green-100 text-green-600">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/>
                    </svg>
                </div>
            </div>
            <a href="{{path('acheteur')}}" class="mt-4 inline-flex items-center text-green-600 hover:text-green-800">
                Voir tous les clients
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                </svg>
            </a>
        </div>
    </div>

    <!-- Value Proposition Cards -->
    <div class="grid md:grid-cols-2 gap-6 mb-10">
        <div class="bg-white p-6 rounded-lg shadow border-l-4 border-blue-500">
            <h3 class="font-bold text-xl text-gray-800 mb-3">üè† Votre Portefeuille de Biens</h3>
            <ul class="space-y-2 text-gray-600">
                <li class="flex items-start">
                    <svg class="h-5 w-5 text-blue-500 mr-2 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                    </svg>
                    <span>Consultez nos derni√®res exclusivit√©s</span>
                </li>
                <li class="flex items-start">
                    <svg class="h-5 w-5 text-blue-500 mr-2 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                    </svg>
                    <span>Filtres avanc√©s par crit√®res clients</span>
                </li>
                {# <li class="flex items-start">
                    <svg class="h-5 w-5 text-blue-500 mr-2 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                    </svg>
                    <span>Notifications pour nouveaux biens correspondant √† vos clients</span>
                </li> #}
            </ul>
        </div>

        <div class="bg-white p-6 rounded-lg shadow border-l-4 border-green-500">
            <h3 class="font-bold text-xl text-gray-800 mb-3">üë• Votre R√©seau de Clients</h3>
            <ul class="space-y-2 text-gray-600">
                <li class="flex items-start">
                    <svg class="h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                    </svg>
                    <span>Acc√®s aux profils clients</span>
                </li>
                <li class="flex items-start">
                    <svg class="h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                    </svg>
                    <span>Syst√®me de matching intelligent propri√©t√©-client</span>
                </li>
                <li class="flex items-start">
                    <svg class="h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                    </svg>
                    <span>Contact par numero de telephone</span>
                </li>
            </ul>
        </div>
    </div>

{% endblock %}
